import{S as ke,i as we,s as _e,e as h,t as Z,l as L,c as _,a as $,p as ee,d as p,m as F,A as q,b as f,f as G,g as u,E as X,r as te,n as ce,h as de,u as ae,v as le,w as ie,x as U,y as H,z as oe,j as Le,o as Fe,k as Oe,F as Pe,O as Re,D as Y,K as qe,q as xe,B as pe,H as be,G as He,I as ve}from"./index.62c63a4e.js";import{e as me,A as se}from"./constants.71e06567.js";import{W as We}from"./WidgetWrapper.dd4a4674.js";import{b as Ge,n as M,k as Ve,c as ye,l as Ue}from"./storage.1a47b7b4.js";import{d as Je,_ as Me,Q as he}from"./appwrite.910d59a0.js";import je from"./Logo.267b5eea.js";import"./_commonjsHelpers.725317a4.js";function ze(n){let e,t,s,l,r,i,o,a='<span class="sr-only">Close</span> <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"></path></svg>',c,d;return{c(){e=h("div"),t=h("div"),s=h("div"),l=h("div"),r=Z(n[0]),i=L(),o=h("button"),o.innerHTML=a,this.h()},l(v){e=_(v,"DIV",{class:!0});var m=$(e);t=_(m,"DIV",{class:!0});var T=$(t);s=_(T,"DIV",{id:!0,class:!0,role:!0});var y=$(s);l=_(y,"DIV",{class:!0});var N=$(l);r=ee(N,n[0]),N.forEach(p),i=F(y),o=_(y,"BUTTON",{type:!0,class:!0,"data-dismiss-target":!0,"aria-label":!0,"data-svelte-h":!0}),q(o)!=="svelte-1xledel"&&(o.innerHTML=a),y.forEach(p),T.forEach(p),m.forEach(p),this.h()},h(){f(l,"class","ml-3 text-sm font-normal capitalize p-2"),f(o,"type","button"),f(o,"class","ml-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700"),f(o,"data-dismiss-target","#toast-default"),f(o,"aria-label","Close"),f(s,"id","toast-default"),f(s,"class","flex float-right items-center w-full max-w-xs p-4 bg-offset rounded-lg shadow dark:text-gray-400 dark:bg-gray-800"),f(s,"role","alert"),f(t,"class","absolute top-0 right-0"),f(e,"class","relative")},m(v,m){G(v,e,m),u(e,t),u(t,s),u(s,l),u(l,r),u(s,i),u(s,o),c||(d=X(o,"click",n[1]),c=!0)},p(v,[m]){m&1&&te(r,v[0])},i:ce,o:ce,d(v){v&&p(e),c=!1,d()}}}function Qe(n,e,t){let s;return de(n,Ge,r=>t(0,s=r)),[s,async()=>{M("")}]}class Ke extends ke{constructor(e){super(),we(this,e,Qe,ze,_e,{})}}function $e(n,e,t){const s=n.slice();return s[4]=e[t],s}function Ie(n){let e,t,s="Input your business name:",l,r,i,o;return{c(){e=h("div"),t=h("label"),t.textContent=s,l=L(),r=h("input"),this.h()},l(a){e=_(a,"DIV",{});var c=$(e);t=_(c,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(t)!=="svelte-1rpz5bv"&&(t.textContent=s),l=F(c),r=_(c,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0}),c.forEach(p),this.h()},h(){f(t,"for","username"),f(t,"class","block mb-2 text-sm font-medium"),f(r,"type","text"),f(r,"name","data"),f(r,"id","data"),f(r,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5"),f(r,"placeholder","Wild Goat Coffee"),r.required=!0},m(a,c){G(a,e,c),u(e,t),u(e,l),u(e,r),Y(r,n[2].business_name),i||(o=X(r,"input",n[7]),i=!0)},p(a,c){c&4&&r.value!==a[2].business_name&&Y(r,a[2].business_name)},d(a){a&&p(e),i=!1,o()}}}function Ne(n){let e,t,s;return{c(){e=h("iframe"),this.h()},l(l){e=_(l,"IFRAME",{style:!0,title:!0,src:!0,width:!0,height:!0}),$(e).forEach(p),this.h()},h(){qe(e,"background","#FFFFFF"),f(e,"title",t=n[4].$id),xe(e.src,s=n[4].url)||f(e,"src",s),f(e,"width","800"),f(e,"height","800")},m(l,r){G(l,e,r)},p(l,r){r&8&&t!==(t=l[4].$id)&&f(e,"title",t),r&8&&!xe(e.src,s=l[4].url)&&f(e,"src",s)},d(l){l&&p(e)}}}function Xe(n){let e,t,s,l="Step 2: Create a Business Plan.",r,i,o="This can take a while, please proceed to create logos, graphical business content, and your website!",a,c,d,v,m,T,y=n[1]?"Loading":"Generate Business Plan",N,W,k,C,O="Generated:",V,B,I,x,w=n[0]&&!n[2].business_name&&Ie(n),J=me(n[3]),S=[];for(let g=0;g<J.length;g+=1)S[g]=Ne($e(n,J,g));return{c(){e=h("selection"),t=h("div"),s=h("h1"),s.textContent=l,r=L(),i=h("h1"),i.textContent=o,a=L(),c=h("div"),d=h("form"),w&&w.c(),v=L(),m=h("button"),T=h("span"),N=Z(y),W=L(),k=h("div"),C=h("h2"),C.textContent=O,V=L(),B=h("div");for(let g=0;g<S.length;g+=1)S[g].c();this.h()},l(g){e=_(g,"SELECTION",{});var R=$(e);t=_(R,"DIV",{class:!0});var E=$(t);s=_(E,"H1",{class:!0,"data-svelte-h":!0}),q(s)!=="svelte-4jqjzc"&&(s.textContent=l),r=F(E),i=_(E,"H1",{class:!0,"data-svelte-h":!0}),q(i)!=="svelte-ns2n1o"&&(i.textContent=o),a=F(E),c=_(E,"DIV",{class:!0});var j=$(c);d=_(j,"FORM",{class:!0,action:!0});var Q=$(d);w&&w.l(Q),v=F(Q),m=_(Q,"BUTTON",{type:!0,class:!0});var re=$(m);T=_(re,"SPAN",{});var z=$(T);N=ee(z,y),z.forEach(p),re.forEach(p),Q.forEach(p),j.forEach(p),W=F(E),k=_(E,"DIV",{});var D=$(k);C=_(D,"H2",{"data-svelte-h":!0}),q(C)!=="svelte-1p0q7f"&&(C.textContent=O),V=F(D),B=_(D,"DIV",{class:!0});var b=$(B);for(let P=0;P<S.length;P+=1)S[P].l(b);b.forEach(p),D.forEach(p),E.forEach(p),R.forEach(p),this.h()},h(){f(s,"class","text-xl font-semibold text-white-1200 dark:text-white"),f(i,"class","text-xl font-semibold text-white-1200 dark:text-white"),f(m,"type","submit"),f(m,"class","w-full bg-secondary hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"),m.disabled=n[1],f(d,"class","space-y-4 md:space-y-6"),f(d,"action","#"),f(c,"class","p-4"),f(B,"class","grid grid-cols-2 gap-2"),f(t,"class","p-6 sm:p-12")},m(g,R){G(g,e,R),u(e,t),u(t,s),u(t,r),u(t,i),u(t,a),u(t,c),u(c,d),w&&w.m(d,null),u(d,v),u(d,m),u(m,T),u(T,N),u(t,W),u(t,k),u(k,C),u(k,V),u(k,B);for(let E=0;E<S.length;E+=1)S[E]&&S[E].m(B,null);I||(x=X(d,"submit",Pe(n[5])),I=!0)},p(g,R){if(g[0]&&!g[2].business_name?w?w.p(g,R):(w=Ie(g),w.c(),w.m(d,v)):w&&(w.d(1),w=null),R&2&&y!==(y=g[1]?"Loading":"Generate Business Plan")&&te(N,y),R&2&&(m.disabled=g[1]),R&8){J=me(g[3]);let E;for(E=0;E<J.length;E+=1){const j=$e(g,J,E);S[E]?S[E].p(j,R):(S[E]=Ne(j),S[E].c(),S[E].m(B,null))}for(;E<S.length;E+=1)S[E].d(1);S.length=J.length}},d(g){g&&p(e),w&&w.d(),Re(S,g),I=!1,x()}}}function Ye(n){let e,t,s,l;return e=new We({props:{background:"https://kbve.com/assets/img/curved-images/wave.jpg",$$slots:{default:[Xe]},$$scope:{ctx:n}}}),s=new je({}),{c(){ae(e.$$.fragment),t=L(),ae(s.$$.fragment)},l(r){le(e.$$.fragment,r),t=F(r),le(s.$$.fragment,r)},m(r,i){ie(e,r,i),G(r,t,i),ie(s,r,i),l=!0},p(r,[i]){const o={};i&2097167&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){l||(U(e.$$.fragment,r),U(s.$$.fragment,r),l=!0)},o(r){H(e.$$.fragment,r),H(s.$$.fragment,r),l=!1},d(r){r&&p(t),oe(e,r),oe(s,r)}}}let Ze=!1;function et(n,e,t){let s;de(n,Ve,C=>t(10,s=C));let l=!1,r=!1,i=!1,o,a=se.CREATE_BUSINESS_PLAN_APPWRITE_FUNCTION,c,d,v,m=[];Le();const T=()=>d.business_name.length<1?(M("Data needs to be longer!"),!1):d.business_name.length>100?(M("Data needs to be shorter!"),!1):!0,y=()=>{M("Running"),T()&&N()},N=async()=>{try{t(1,l=!0),r=!0,c=JSON.stringify({businessName:d.business_name,businessId:d.$id,businessIdea:d.business_idea}),console.log(c);const C=await Je.createExecution(a,c);if(C.status==="failed")throw new Error("Try again");C.response&&(M("Business Plan Loaded"),t(4,v=JSON.parse(C.response)),v&&ye("businessPlan",JSON.stringify(v)),W())}catch(C){C instanceof Error&&(Ue(C.message),M(C.message))}finally{t(1,l=!1)}},W=async()=>{try{const C=await Me(se.DATABASE,se.BUSINESS_PLAN,[he.equal("business_id",d.$id),he.orderDesc("created_at")]),O=JSON.parse(C);t(3,m=O.documents)}catch{}};Fe(()=>{t(2,d=JSON.parse(s.business)),W(),t(0,i=!0)}),Oe(()=>{});function k(){d.business_name=this.value,t(2,d)}return n.$$.update=()=>{n.$$.dirty&65&&i&&!Ze&&(t(6,o=window.document.getElementById("skeleton")),o&&o.remove())},[i,l,d,m,v,y,o,k]}class tt extends ke{constructor(e){super(),we(this,e,et,Ye,_e,{})}}function Se(n,e,t){const s=n.slice();return s[23]=e[t],s}function Te(n){let e,t,s=n[23].business_name+"",l,r,i,o=n[23].business_idea+"",a,c,d,v=new Date(n[23].created_at).toLocaleString()+"",m,T,y,N,W="Select",k,C,O;function V(){return n[12](n[23])}return{c(){e=h("tr"),t=h("td"),l=Z(s),r=L(),i=h("td"),a=Z(o),c=L(),d=h("td"),m=Z(v),T=L(),y=h("td"),N=h("button"),N.textContent=W,k=L(),this.h()},l(B){e=_(B,"TR",{});var I=$(e);t=_(I,"TD",{});var x=$(t);l=ee(x,s),x.forEach(p),r=F(I),i=_(I,"TD",{});var w=$(i);a=ee(w,o),w.forEach(p),c=F(I),d=_(I,"TD",{});var J=$(d);m=ee(J,v),J.forEach(p),T=F(I),y=_(I,"TD",{});var S=$(y);N=_(S,"BUTTON",{class:!0,"data-svelte-h":!0}),q(N)!=="svelte-1yrgve0"&&(N.textContent=W),S.forEach(p),k=F(I),I.forEach(p),this.h()},h(){f(N,"class","bg-transparent hover:bg-blue-500 text-white-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded")},m(B,I){G(B,e,I),u(e,t),u(t,l),u(e,r),u(e,i),u(i,a),u(e,c),u(e,d),u(d,m),u(e,T),u(e,y),u(y,N),u(e,k),C||(O=X(N,"click",V),C=!0)},p(B,I){n=B,I&16&&s!==(s=n[23].business_name+"")&&te(l,s),I&16&&o!==(o=n[23].business_idea+"")&&te(a,o),I&16&&v!==(v=new Date(n[23].created_at).toLocaleString()+"")&&te(m,v)},d(B){B&&p(e),C=!1,O()}}}function st(n){let e,t,s,l="Step 1: Define your business",r,i,o,a,c,d="Input your business name:",v,m,T,y,N="Input your business idea:",W,k,C,O,V,B=n[0]?"Loading":"Generate Business",I,x,w,J="Generated:",S,g,R,E="<th>Business Name</th> <th>Business Idea</th> <th>Created At</th> <th>Select</th>",j,Q,re,z=me(n[4]),D=[];for(let b=0;b<z.length;b+=1)D[b]=Te(Se(n,z,b));return{c(){e=h("selection"),t=h("div"),s=h("h1"),s.textContent=l,r=L(),i=h("div"),o=h("form"),a=h("div"),c=h("label"),c.textContent=d,v=L(),m=h("input"),T=L(),y=h("label"),y.textContent=N,W=L(),k=h("input"),C=L(),O=h("button"),V=h("span"),I=Z(B),x=L(),w=h("h2"),w.textContent=J,S=L(),g=h("table"),R=h("tr"),R.innerHTML=E,j=L();for(let b=0;b<D.length;b+=1)D[b].c();this.h()},l(b){e=_(b,"SELECTION",{});var P=$(e);t=_(P,"DIV",{class:!0});var A=$(t);s=_(A,"H1",{class:!0,"data-svelte-h":!0}),q(s)!=="svelte-12mc7nd"&&(s.textContent=l),r=F(A),i=_(A,"DIV",{});var ne=$(i);o=_(ne,"FORM",{class:!0,action:!0});var ue=$(o);a=_(ue,"DIV",{});var K=$(a);c=_(K,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(c)!=="svelte-wp5x2z"&&(c.textContent=d),v=F(K),m=_(K,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0}),T=F(K),y=_(K,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(y)!=="svelte-1a1t0fr"&&(y.textContent=N),W=F(K),k=_(K,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0}),K.forEach(p),C=F(ue),O=_(ue,"BUTTON",{type:!0,class:!0});var Ee=$(O);V=_(Ee,"SPAN",{});var Ce=$(V);I=ee(Ce,B),Ce.forEach(p),Ee.forEach(p),ue.forEach(p),ne.forEach(p),A.forEach(p),P.forEach(p),x=F(b),w=_(b,"H2",{"data-svelte-h":!0}),q(w)!=="svelte-1p0q7f"&&(w.textContent=J),S=F(b),g=_(b,"TABLE",{class:!0});var fe=$(g);R=_(fe,"TR",{"data-svelte-h":!0}),q(R)!=="svelte-uktvd7"&&(R.innerHTML=E),j=F(fe);for(let ge=0;ge<D.length;ge+=1)D[ge].l(fe);fe.forEach(p),this.h()},h(){f(s,"class","text-2xl font-semibold text-white-900 dark:text-white"),f(c,"for","username"),f(c,"class","block mb-2 text-sm font-medium"),f(m,"type","text"),f(m,"name","businessName"),f(m,"id","businessName"),f(m,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5"),f(m,"placeholder","Wild Goat Coffee"),m.required=!0,f(y,"for","username"),f(y,"class","block mb-2 text-sm font-medium"),f(k,"type","text"),f(k,"name","businessIdea"),f(k,"id","businessIdea"),f(k,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5"),f(k,"placeholder","Wild Goat Coffee is a Palo Alto Based Coffee Shop that sells coffee, tea, and pastries."),k.required=!0,f(O,"type","submit"),f(O,"class","w-full bg-secondary hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"),O.disabled=n[0],f(o,"class","space-y-4 md:space-y-6"),f(o,"action","#"),f(t,"class","p-6 sm:p-12"),f(g,"class","w-full text-sm text-left text-white-500 dark:text-gray-400")},m(b,P){G(b,e,P),u(e,t),u(t,s),u(t,r),u(t,i),u(i,o),u(o,a),u(a,c),u(a,v),u(a,m),Y(m,n[1]),u(a,T),u(a,y),u(a,W),u(a,k),Y(k,n[2]),u(o,C),u(o,O),u(O,V),u(V,I),G(b,x,P),G(b,w,P),G(b,S,P),G(b,g,P),u(g,R),u(g,j);for(let A=0;A<D.length;A+=1)D[A]&&D[A].m(g,null);Q||(re=[X(m,"input",n[10]),X(k,"input",n[11]),X(o,"submit",Pe(n[7]))],Q=!0)},p(b,P){if(P&2&&m.value!==b[1]&&Y(m,b[1]),P&4&&k.value!==b[2]&&Y(k,b[2]),P&1&&B!==(B=b[0]?"Loading":"Generate Business")&&te(I,B),P&1&&(O.disabled=b[0]),P&56){z=me(b[4]);let A;for(A=0;A<z.length;A+=1){const ne=Se(b,z,A);D[A]?D[A].p(ne,P):(D[A]=Te(ne),D[A].c(),D[A].m(g,null))}for(;A<D.length;A+=1)D[A].d(1);D.length=z.length}},d(b){b&&(p(e),p(x),p(w),p(S),p(g)),Re(D,b),Q=!1,He(re)}}}function Be(n){let e=n[3].$id,t,s,l=De();return{c(){l.c(),t=pe()},l(r){l.l(r),t=pe()},m(r,i){l.m(r,i),G(r,t,i),s=!0},p(r,i){i&8&&_e(e,e=r[3].$id)?(ve(),H(l,1,1,ce),be(),l=De(),l.c(),U(l,1),l.m(t.parentNode,t)):l.p(r,i)},i(r){s||(U(l),s=!0)},o(r){H(l),s=!1},d(r){r&&p(t),l.d(r)}}}function De(n){let e,t;return e=new tt({}),{c(){ae(e.$$.fragment)},l(s){le(e.$$.fragment,s)},m(s,l){ie(e,s,l),t=!0},p:ce,i(s){t||(U(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){oe(e,s)}}}function Ae(n){let e,t;return e=new Ke({}),{c(){ae(e.$$.fragment)},l(s){le(e.$$.fragment,s)},m(s,l){ie(e,s,l),t=!0},i(s){t||(U(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){oe(e,s)}}}function rt(n){let e,t,s,l,r;e=new We({props:{background:"https://kbve.com/assets/img/curved-images/wave.jpg",$$slots:{default:[st]},$$scope:{ctx:n}}});let i=(n[3]||n[5])&&Be(n),o=n[6]&&Ae();return{c(){ae(e.$$.fragment),t=L(),i&&i.c(),s=L(),o&&o.c(),l=pe()},l(a){le(e.$$.fragment,a),t=F(a),i&&i.l(a),s=F(a),o&&o.l(a),l=pe()},m(a,c){ie(e,a,c),G(a,t,c),i&&i.m(a,c),G(a,s,c),o&&o.m(a,c),G(a,l,c),r=!0},p(a,[c]){const d={};c&67108927&&(d.$$scope={dirty:c,ctx:a}),e.$set(d),a[3]||a[5]?i?(i.p(a,c),c&40&&U(i,1)):(i=Be(a),i.c(),U(i,1),i.m(s.parentNode,s)):i&&(ve(),H(i,1,1,()=>{i=null}),be()),a[6]?o?c&64&&U(o,1):(o=Ae(),o.c(),U(o,1),o.m(l.parentNode,l)):o&&(ve(),H(o,1,1,()=>{o=null}),be())},i(a){r||(U(e.$$.fragment,a),U(i),U(o),r=!0)},o(a){H(e.$$.fragment,a),H(i),H(o),r=!1},d(a){a&&(p(t),p(s),p(l)),oe(e,a),i&&i.d(a),o&&o.d(a)}}}let nt=!1;function at(n,e,t){let s,l;de(n,Ve,x=>t(15,s=x)),de(n,Ge,x=>t(6,l=x));let r=!1,i=!1,o=!1,a,c=se.CREATE_BUSINESS_APPWRITE_FUNCTION,d="",v="",m,T,y=[],N=!1;Le();const W=()=>v.length<1||d.length<1?(M("Data needs to be longer!"),!1):v.length>1e3||d.length>100?(M("Data needs to be shorter!"),!1):!0,k=()=>{M("Running"),W()&&C()},C=async()=>{try{t(0,r=!0),i=!0,m=JSON.stringify({businessName:d,businessIdea:v});const x=await Je.createExecution(c,m);if(M("Loading..."),x.status==="failed")throw new Error("Try again");x.response&&(M("Business Created!"),t(3,T=JSON.parse(x.response)),T&&ye("business",JSON.stringify(T)),O())}catch(x){x instanceof Error&&(Ue(x.message),M(x.message))}finally{t(0,r=!1)}},O=async()=>{try{const x=await Me(se.DATABASE,se.BUSINESS,[he.equal("created_by",s.email),he.orderDesc("created_at")]),w=JSON.parse(x);t(4,y=w.documents.slice(0,5))}catch{}};Fe(()=>{(!s.email||s.email==="")&&window.location.replace("/account/login"),O(),t(8,o=!0)}),Oe(()=>{});function V(){d=this.value,t(1,d)}function B(){v=this.value,t(2,v)}const I=x=>{ye("business",JSON.stringify(x)),t(3,T=x),t(5,N=!1),t(5,N=!0)};return n.$$.update=()=>{n.$$.dirty&768&&o&&!nt&&(t(9,a=window.document.getElementById("skeleton")),a&&a.remove())},[r,d,v,T,y,N,l,k,o,a,V,B,I]}class pt extends ke{constructor(e){super(),we(this,e,at,rt,_e,{})}}export{pt as default};
